---
title: MCP Server
description: Model Context Protocol server for Computer-Use Agent integration
pypi: cua-mcp-server
macos: true
linux: true
windows: true
---

import { buttonVariants } from 'fumadocs-ui/components/ui/button';
import { cn } from 'fumadocs-ui/utils/cn';
import { ChevronRight } from 'lucide-react';
import { Step, Steps } from 'fumadocs-ui/components/steps';

**MCP Server** enables Computer-Use Agent (CUA) integration with Claude Desktop and other Model Context Protocol (MCP) clients, providing seamless access to computer automation capabilities through a standardized interface.

## Features

- **MCP Integration** - Connect CUA to Claude Desktop and other MCP-compatible clients
- **Computer Control** - Full screen, keyboard, and mouse automation capabilities
- **Tool System** - Execute commands, take screenshots, and interact with applications
- **Easy Setup** - Simple configuration with Claude Desktop or any MCP client

## Installation

### Prerequisites

Before installing the MCP server, ensure you have:

1. **Lume CLI** installed and configured
2. **macOS CUA image** pulled and ready
3. **Python 3.10+** installed on your system

### Install via pip

```bash
pip install cua-mcp-server
```

### Quick Setup Script

For automated installation, use our setup script:

```bash
curl -fsSL https://raw.githubusercontent.com/trycua/cua/main/libs/mcp-server/scripts/install_mcp_server.sh | bash
```

This script:

- Creates the `~/.cua` directory
- Generates a startup script at `~/.cua/start_mcp_server.sh`
- Manages Python virtual environments automatically
- Installs and updates the cua-mcp-server package

## Getting Started

<Steps>
<Step>
### Configure Claude Desktop

Add the MCP server to your Claude Desktop configuration:

```json
{
  "mcpServers": {
    "cua-agent": {
      "command": "/bin/bash",
      "args": ["~/.cua/start_mcp_server.sh"],
      "env": {
        "CUA_AGENT_LOOP": "OMNI",
        "CUA_MODEL_PROVIDER": "ANTHROPIC",
        "CUA_PROVIDER_API_KEY": "your-anthropic-api-key"
      }
    }
  }
}
```

<Callout type="tip">
  The configuration file is typically located at
  `~/.config/claude-desktop/claude_desktop_config.json`
</Callout>
</Step>

<Step>
### Start Using CUA

Once configured, you can ask Claude to perform computer tasks:

```text
"Take a screenshot of the current screen"
"Open Safari and navigate to google.com"
"Click on the search bar and type 'weather'"
```
</Step>

<Step>
### Configure Environment Variables

Customize the MCP server behavior with these environment variables:

| Variable                | Description                                           | Default                 |
| ----------------------- | ----------------------------------------------------- | ----------------------- |
| `CUA_AGENT_LOOP`        | Agent loop to use (OPENAI, ANTHROPIC, UITARS, OMNI)   | OMNI                    |
| `CUA_MODEL_PROVIDER`    | Model provider (ANTHROPIC, OPENAI, OLLAMA, OAICOMPAT) | ANTHROPIC               |
| `CUA_MODEL_NAME`        | Model name to use                                     | None (provider default) |
| `CUA_PROVIDER_BASE_URL` | Base URL for provider API                             | None                    |
| `CUA_MAX_IMAGES`        | Maximum number of images to keep in context           | 3                       |
</Step>
</Steps>

## Examples

### Basic Computer Control

```python
# Example prompt to Claude
"Take a screenshot and save it to the desktop"

# Claude will use the run_cua_task tool:
# {
#   "instruction": "Take a screenshot and save it to the desktop",
#   "display": "1920x1080"
# }
```

### Multi-Step Automation

```python
# Example prompt to Claude
"Open a new browser window, navigate to github.com, and search for 'cua'"

# Claude will use the run_multi_cua_tasks tool with multiple instructions
```

### Integrating with Cursor

Create a configuration file at `~/.cursor/mcp.json` or `.cursor/mcp.json` in your project:

```json
{
  "mcpServers": {
    "cua-agent": {
      "command": "/bin/bash",
      "args": ["~/.cua/start_mcp_server.sh"],
      "env": {
        "CUA_AGENT_LOOP": "OMNI",
        "CUA_MODEL_PROVIDER": "ANTHROPIC",
        "CUA_PROVIDER_API_KEY": "your-api-key"
      }
    }
  }
}
```

### Development Mode

For local development without installation:

```json
{
  "mcpServers": {
    "cua-agent": {
      "command": "/bin/bash",
      "args": ["~/cua/libs/mcp-server/scripts/start_mcp_server.sh"],
      "env": {
        "CUA_AGENT_LOOP": "OMNI",
        "CUA_MODEL_PROVIDER": "ANTHROPIC",
        "CUA_PROVIDER_API_KEY": "your-api-key"
      }
    }
  }
}
```

### Troubleshooting

View MCP server logs:

```bash
tail -n 20 -f ~/Library/Logs/Claude/mcp*.log
```

---

<Callout type="info">
  **Need detailed API documentation?** Explore the complete API reference with
  detailed tool descriptions, parameters, and usage examples.
  <a
    href="/api/mcp-server"
    className={cn(
      buttonVariants({
        color: 'secondary',
      }),
      'no-underline h-10'
    )}>
    View API Reference
    <ChevronRight size={18} />
  </a>
</Callout>
